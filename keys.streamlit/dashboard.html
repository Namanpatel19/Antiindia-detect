<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Detection Dashboard</title>
</head>
<body>
  <h2 style="color:darkred; text-align:center;">Anti-Campaign Detection Dashboard</h2>
  <div id="table"></div>

  <script>
    // Dataset injected from Python
    const DATA = {{DATA}};

    // Function to get color based on risk
    function getRiskColor(risk) {
      if (risk === "High") return "red";
      if (risk === "Medium") return "orange";
      if (risk === "Low") return "green";
      return "black";
    }

    // Render as HTML table
    let html = "<table border='1' cellpadding='8' cellspacing='0' style='width:100%; border-collapse:collapse; font-family:Arial;'>";
    html += "<tr style='background:#333; color:white;'><th>Platform</th><th>Text</th><th>Risk</th></tr>";

    DATA.forEach(row => {
      html += `<tr>
                 <td>${row.platform}</td>
                 <td>${row.text}</td>
                 <td style="color:${getRiskColor(row.risk)}; font-weight:bold;">${row.risk}</td>
               </tr>`;
    });

    html += "</table>";
    document.getElementById("table").innerHTML = html;
  </script>
</body>
</html>
